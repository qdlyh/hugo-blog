[{"categories":null,"content":"é¡¹ç›®é‡Œæœ‰ä¸ªä¸Šæ‹‰åŠ è½½æ•°æ®çš„éœ€æ±‚ï¼Œå°±é€ äº†ä¸€ä¸ªä¸Šæ‹‰åŠ è½½ä¸‹æ‹‰åˆ·æ–°çš„è½®å­ï¼Œå½“ç„¶è¿™é‡Œåªè¯´æ‰‹åŠ¿æ»‘åŠ¨äº‹ä»¶ï¼Œæ»‘åŠ¨åˆ°æœ€é¡¶å’Œæœ€åº•éƒ¨åŠ¨ç”»ï¼Œå‚è€ƒäº†swiper.js \u003ctemplate\u003e \u003cdiv id=\"pullScrollCell\"\u003e \u003cdiv id=\"touch\"\u003e \u003cdiv\u003eå†…å®¹\u003c/div\u003e \u003c/div\u003e \u003c/div\u003e \u003c/template\u003e \u003cscript\u003e data() { return { startX: '', startY: '', limitY: 0, } } mounted() { document.querySelector('#pullScrollCell').addEventListener('scroll', this.debounce(this.pullUpReload, 600)); //è®¾ç½®é˜²æŠ–é˜²æ­¢é‡å¤è§¦å‘ document.querySelector('#touch').addEventListener('touchstart', this.touchstart); //æ”¶æ‹¾å¼€å§‹ document.querySelector('#touch').addEventListener('touchmove', this.touchmove); //æ‰‹åŠ¿ç§»åŠ¨ document.querySelector('#touch').addEventListener('touchend', this.touchend); //æ‰‹åŠ¿ç»“æŸ } methods: { //é˜²æŠ– debounce(fn, delay) { let timer = null return () =\u003e { if (timer) { clearTimeout(timer) } timer = setTimeout(fn, delay) } }, //æ‰‹åŠ¿å¼€å§‹ touchstart(e) { // e.preventDefault() //é˜»æ­¢é»˜è®¤äº‹ä»¶ this.startX=e.changedTouches[0].pageX; this.startY=e.changedTouches[0].pageY; }, /* æ‰‹åŠ¿ç§»åŠ¨ä¸­ touchmoveçš„æœ€ååæ ‡å‡å»touchstartçš„èµ·å§‹åæ ‡ï¼Œ Xçš„ç»“æœå¦‚æœæ­£æ•°ï¼Œåˆ™è¯´æ˜æ‰‹æŒ‡æ˜¯ä»å·¦å¾€å³åˆ’åŠ¨ï¼›Xçš„ç»“æœå¦‚æœè´Ÿæ•°ï¼Œ åˆ™è¯´æ˜æ‰‹æŒ‡æ˜¯ä»å³å¾€å·¦åˆ’åŠ¨ï¼›Yçš„ç»“æœå¦‚æœæ­£æ•°ï¼Œåˆ™è¯´æ˜æ‰‹æŒ‡æ˜¯ä»ä¸Šå¾€ä¸‹åˆ’åŠ¨ï¼›Yçš„ç»“æœå¦‚æœè´Ÿæ•°ï¼Œ åˆ™è¯´æ˜æ‰‹æŒ‡æ˜¯ä»ä¸‹å¾€ä¸Šåˆ’åŠ¨ã€‚ */ touchmove(e) { // e.preventDefault() //é˜»æ­¢é»˜è®¤äº‹ä»¶ letscrollTop=Math.ceil(document.querySelector('#pullScrollCell').scrollTop); letmoveEndX=e.changedTouches[0].pageX; letmoveEndY=e.changedTouches[0].pageY; letX=moveEndX-this.startX; letY=moveEndY-this.startY; //å‘å³ if (Math.abs(X) \u003eMath.abs(Y) \u0026\u0026X\u003e0) { // console.log('å‘å·¦'); } //å‘å·¦ if (Math.abs(X) \u003eMath.abs(Y) \u0026\u0026X\u003c0) { // console.log('å‘å³'); } //å‘ä¸Š if (Math.abs(Y) \u003eMath.abs(X) \u0026\u0026Y\u003e0) { // console.log('å‘ä¸Š'); if (scrollTop==0) { e.preventDefault() //é˜»æ­¢é»˜è®¤äº‹ä»¶(å¾®ä¿¡ä¸Šæ‹‰åˆ·æ–°ä¼šè§¦å‘å¾®ä¿¡é»˜è®¤äº‹ä»¶ï¼Œå¯¼è‡´ä¸èƒ½è°ƒç”¨åˆ·æ–°åŠ è½½) } this.limitY=Math.min(Y, 100) //å‘ä¸Šæ»‘åŠ¨åŠ¨ç”»æœ€å¤§100 document.querySelector('#touch').style = `transition: all 0ms ease 0s; transform: translate3d(0px, ${this.limitY}px, 0px)`; } //å‘ä¸‹ if (Math.abs(Y) \u003eMath.abs(X) \u0026\u0026Y\u003c0) { // console.log('å‘ä¸‹'); this.limitY=Math.max(Y, -100) //å‘ä¸‹æ»‘åŠ¨åŠ¨ç”»æœ€å¤§-100 document.querySelector('#touch').style = `transition: all 0ms ease 0s; transform: translate3d(0px, ${this.limitY}px, 0px)`; } }, //æ‰‹åŠ¿ç»“æŸ touchend(e) { letscrollTop=Math.ceil(document.querySelector('#pullScrollCell').scrollTop); //æ»šåŠ¨æ¡åˆ°é¡¶éƒ¨çš„ä½ç½® document.querySelector('#touch').style = `transition: all 300ms ease 0s; transform: translate3d(0px, 0px, 0px)`; if (scrollTop==0\u0026\u0026this.limitY\u003e=60) { æ»šåŠ¨æ¡åœ¨é¡¶éƒ¨å¹¶ä¸”ä¸‹æ‹‰å€¼å¤§äº60ï¼Œè§¦å‘ } }, } \u003cscript\u003e ","date":"2024-07-01","objectID":"/js%E6%89%8B%E5%8A%BF%E6%BB%91%E5%8A%A8%E4%BA%8B%E4%BB%B6%E5%88%A4%E6%96%AD%E4%B8%8A%E4%B8%8B%E5%B7%A6%E5%8F%B3%E6%96%B9%E5%90%91/:0:0","tags":null,"title":"Jsæ‰‹åŠ¿æ»‘åŠ¨äº‹ä»¶ï¼ˆåˆ¤æ–­ä¸Šä¸‹å·¦å³æ–¹å‘ï¼‰","uri":"/js%E6%89%8B%E5%8A%BF%E6%BB%91%E5%8A%A8%E4%BA%8B%E4%BB%B6%E5%88%A4%E6%96%AD%E4%B8%8A%E4%B8%8B%E5%B7%A6%E5%8F%B3%E6%96%B9%E5%90%91/"},{"categories":null,"content":"åŸç†ï¼šåˆ©ç”¨canvasæ¥å®ç°ï¼Œå°†å›¾ç‰‡ç»˜åˆ¶åˆ°canvasä¸Šï¼Œç„¶åcanvasè½¬å›¾ç‰‡æ—¶ï¼Œå¾®ä¿¡æä¾›çš„ä¸€ä¸ªæ–¹æ³•wx.canvasToTempFilePath(Object object, Object this)ï¼Œæ­¤æ–¹å¼å¯ä»¥æŒ‡å®šç”Ÿæˆå›¾ç‰‡çš„è´¨é‡ æ³¨æ„ï¼šqualityè®¾ç½®åªå¯¹jpgæ ¼å¼çš„å›¾ç‰‡æœ‰æ•ˆï¼Œä½¿ç”¨æ—¶è¦å°†fileTypeè®¾ç½®ä¸ºâ€œjpgâ€ï¼Œ æ­¤ä¸¾å¯èƒ½ä¼šå¯¼è‡´å…¶å®ƒæ ¼å¼çš„å›¾ç‰‡å˜ä¸ºjpgæ ¼å¼ xwml //xwml \u003cview\u003e \u003cbutton bindtap=\"chooseImage\"\u003eé€‰æ‹©å›¾ç‰‡\u003c/button\u003e \u003c/view\u003e \u003c!-- å±•ç¤ºå‹ç¼©åçš„å›¾ç‰‡ --\u003e \u003cview style=\"display: flex;justify-content: center;flex-direction: column\"\u003e \u003cimage mode=\"widthFix\" src=\"{{imagePath}}\"\u003e\u003c/image\u003e \u003c/view\u003e \u003cbutton wx:if=\"{{imagePath.length\u003e0}}\" bindtap=\"save\"\u003eç‚¹å‡»ä¸‹è½½å‹ç¼©åçš„å›¾ç‰‡\u003c/button\u003e \u003c!-- ç”¨æ¥æ¸²æŸ“çš„canvas --\u003e \u003ccanvas canvas-id='attendCanvasId' class='myCanvas' style='width:{{cWidth}}px;height:{{cHeight}}px;position: fixed;top: -9999px;left: -9999px;'\u003e\u003c/canvas\u003e js Page({ /** * é¡µé¢çš„åˆå§‹æ•°æ® */ data: { imagePath: '', quality: 0.2, cWidth: 0, cHeight: 0, timer: null }, /** * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½ */ onLoad: function (options) { }, /** * é€‰é¡¹æ·»åŠ å›¾ç‰‡äº‹ä»¶ */ chooseImage: function (e) { var that = this; wx.chooseImage({ sizeType: ['compressed'], //å¯é€‰æ‹©åŸå›¾æˆ–å‹ç¼©åçš„å›¾ç‰‡ sourceType: ['album', 'camera'], //å¯é€‰æ‹©æ€§å¼€æ”¾è®¿é—®ç›¸å†Œã€ç›¸æœº success: result =\u003e { wx.getImageInfo({ src: result.tempFilePaths[0], success: function (res) { console.log(res.width, res.height) that.setData({ cWidth: res.width, cHeight: res.height }, () =\u003e { // setDataå¼•èµ·çš„é¡µé¢æ¸²æŸ“å®Œæˆä¹‹åçš„å›è°ƒå‡½æ•° // setDataæ¸²æŸ“æ˜¯å¼‚æ­¥çš„ canvasToTempFilePathçš„æ—¶å€™canvasçš„å¤§å°å¯èƒ½è¿˜æ²¡æœ‰è¢«é‡æ–°è®¾ç½® that.getCanvasImg(result.tempFilePaths, res.width, res.height, that.data.quality); }) } }) } }) }, /** * è´¨é‡å‹ç¼© */ getCanvasImg(tempFilePaths, canvasWidth, canvasHeight, quality) { var that = this; const ctx = wx.createCanvasContext('attendCanvasId'); ctx.clearRect(0, 0, canvasWidth, canvasHeight); let pixelRatio = wx.getSystemInfoSync().pixelRatio ctx.drawImage(tempFilePaths[0], 0, 0, canvasWidth, canvasHeight); ctx.draw(false, function () { that.data.timer = setTimeout(() =\u003e { wx.canvasToTempFilePath({ canvasId: 'attendCanvasId', fileType: 'jpg', quality: quality, destWidth: canvasWidth, destHeight: canvasHeight, success: function success(res) { clearTimeout(that.data.timer) that.setData({ imagePath: res.tempFilePath }); }, fail: function (e) { clearTimeout(that.data.timer) wx.showModal({ title: 'æç¤º', content: JSON.stringify(e), }) } }); }, 500) }); }, /** * å›¾ç‰‡ä¿å­˜åˆ°ç›¸å†Œ */ save(e) { let that = this; wx.saveImageToPhotosAlbum({ filePath: that.data.imagePath, success: function (res) { console.log('å›¾ç‰‡å·²ä¿å­˜'); }, fail: function (res) { console.log('ä¿å­˜å¤±è´¥'); } }) } }) ","date":"2024-07-01","objectID":"/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87%E8%B4%A8%E9%87%8F%E9%9D%9E%E8%A3%81%E5%89%AA/:0:0","tags":null,"title":"å¾®ä¿¡å°ç¨‹åºå‹ç¼©å›¾ç‰‡ï¼Œå‹ç¼©å›¾ç‰‡è´¨é‡éè£å‰ª","uri":"/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87%E8%B4%A8%E9%87%8F%E9%9D%9E%E8%A3%81%E5%89%AA/"},{"categories":null,"content":"åœ¨å†™å‰ç«¯é¡µé¢ä¸­ï¼Œç»å¸¸ä¼šåœ¨æµè§ˆå™¨è¿è¡ŒHTMLé¡µé¢ï¼Œä»æœ¬åœ°æ–‡ä»¶å¤¹ä¸­ç›´æ¥æ‰“å¼€çš„ä¸€èˆ¬éƒ½æ˜¯fileåè®®ï¼Œå½“ä»£ç ä¸­å­˜åœ¨httpæˆ–httpsçš„é“¾æ¥æ—¶ï¼ŒHTMLé¡µé¢å°±æ— æ³•æ­£å¸¸æ‰“å¼€ï¼Œä¸ºäº†è§£å†³è¿™ç§æƒ…å†µï¼Œéœ€è¦åœ¨åœ¨æœ¬åœ°å¼€å¯ä¸€ä¸ªæœ¬åœ°çš„æœåŠ¡å™¨ã€‚ æœ¬æ–‡æ˜¯åˆ©ç”¨node.jsä¸­çš„http-serverï¼Œå¼€å¯æœ¬åœ°æœåŠ¡ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š 1.ä¸‹è½½node.js å®˜ç½‘åœ°å€ï¼šhttps://nodejs.org ä¸‹è½½å®Œæˆååœ¨å‘½ä»¤è¡Œè¾“å…¥å‘½ä»¤$node -vä»¥åŠ$npm -væ£€æŸ¥ç‰ˆæœ¬ï¼Œç¡®è®¤æ˜¯å¦å®‰è£…æˆåŠŸã€‚ 2.ä¸‹è½½http-server åœ¨ç»ˆç«¯è¾“å…¥ï¼š $ npm install http-server -g 3.å¼€å¯ http-serveræœåŠ¡ ç»ˆç«¯è¿›å…¥ç›®æ ‡æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨ç»ˆç«¯è¾“å…¥ï¼š $ http-server -c-1 ï¼ˆâš ï¸åªè¾“å…¥http-serverçš„è¯ï¼Œæ›´æ–°äº†ä»£ç åï¼Œé¡µé¢ä¸ä¼šåŒæ­¥æ›´æ–°ï¼‰ ","date":"2024-07-01","objectID":"/%E4%BD%BF%E7%94%A8http-server%E5%BC%80%E5%90%AF%E4%B8%80%E4%B8%AA%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/:0:0","tags":null,"title":"ä½¿ç”¨http Serverå¼€å¯ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨","uri":"/%E4%BD%BF%E7%94%A8http-server%E5%BC%80%E5%90%AF%E4%B8%80%E4%B8%AA%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"categories":null,"content":"é¡¹ç›®ä¸Šæœ‰ä¸ªéœ€æ±‚ï¼Œéœ€è¦ç¼“å­˜å·²æ‰“å¼€çš„é¡µé¢ï¼ŒåŒæ—¶å…³é—­ tab çš„æ—¶å€™æ¸…é™¤ç¼“å­˜ã€‚ ","date":"2024-07-01","objectID":"/vue2%E9%80%9A%E8%BF%87keep-alive%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2tabs%E4%B8%9A%E5%8A%A1%E7%BC%93%E5%AD%98/:0:1","tags":null,"title":"Vue2é€šè¿‡keep Aliveè®¾ç½®é¡µé¢TABSä¸šåŠ¡ç¼“å­˜","uri":"/vue2%E9%80%9A%E8%BF%87keep-alive%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2tabs%E4%B8%9A%E5%8A%A1%E7%BC%93%E5%AD%98/"},{"categories":null,"content":"æ€»ä½“æ€è·¯ 1.åœ¨ vue æ–¹æ³•é‡Œkeep-aliveçš„includeè®¾ç½®éœ€è¦ç¼“å­˜é¡µé¢çš„nameå¯ä»¥åˆ¤æ–­é¡µé¢æ˜¯å¦å·²ç¼“å­˜ï¼ˆincludeå¯å­—ç¬¦ä¸²å¯æ•°ç»„ï¼‰è¿™é‡Œé€šè¿‡æ•°ç»„æ–¹å¼è¿›è¡Œ 2.è®¾ç½®æ–‡ä»¶é‡Œçš„nameå’Œè·¯ç”±é‡Œçš„nameï¼ˆä¿æŒä¸€è‡´ï¼‰ 3.åœ¨è¿›å…¥é¡µé¢ä¹‹åè·å–è¯¥é¡µé¢è·¯ç”±æ”¾ç½®åˆ°includeæ•°ç»„é‡Œ 4.æ•°ç»„è¿‡æ»¤é‡å¤è¿›å…¥å·²ç¼“å­˜çš„é¡µé¢name 5.ç‚¹å‡» tab å…³é—­æ ‡ç­¾çš„æ—¶å€™åˆ é™¤includeæ•°ç»„ç¼“å­˜ä¸­çš„name ","date":"2024-07-01","objectID":"/vue2%E9%80%9A%E8%BF%87keep-alive%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2tabs%E4%B8%9A%E5%8A%A1%E7%BC%93%E5%AD%98/:0:2","tags":null,"title":"Vue2é€šè¿‡keep Aliveè®¾ç½®é¡µé¢TABSä¸šåŠ¡ç¼“å­˜","uri":"/vue2%E9%80%9A%E8%BF%87keep-alive%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2tabs%E4%B8%9A%E5%8A%A1%E7%BC%93%E5%AD%98/"},{"categories":null,"content":"è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ 1.è¿›å…¥å·²ç¼“å­˜çš„é¡µé¢includeæ•°ç»„åˆé‡æ–°pushäº†å·²ç¼“å­˜çš„é¡µé¢nameå¯¼è‡´ç¼“å­˜å¤±è´¥ã€‚ è§£å†³æ–¹æ³•é€šè¿‡è®¾ç½®Array.from(new Set())è¿‡æ»¤æ‰é‡å¤çš„æ•°æ®å³å¯ 2.è¯¦æƒ…é¡µé¢æ ¹æ® key æ”¹å˜çš„é¡µé¢æ²¡æœ‰æ›´æ–°æ•°æ®ã€‚ä¾‹å¦‚ url ä¸º/xxx?id=7c65f58 è§£å†³æ–¹æ³•é€šè¿‡è®¾ç½® key \u003crouter-view :key=\"$route.query.id\"\u003e\u003c/router-view\u003e //App.vue \u003ckeep-alive :include=\"$store.state.historyList.cachedHistoryNames\"\u003e \u003crouter-view :key=\"$route.query.id\"\u003e\u003c/router-view\u003e \u003c/keep-alive\u003e //state.js historyList: { historyNave: [{ //ä¿å­˜è¯¦æƒ…é¡µå†å²è®°å½• title: 'é¦–é¡µ', cachedName: 'home', href: '/home' }], cachedHistoryNames: [], //ç¼“å­˜é¡µé¢è·¯ç”± } //main.js router.afterEach((to) =\u003e { //ä¿å­˜è¯¦æƒ…é¡µæµè§ˆå†å²è®°å½• setTimeout(() =\u003e { if (to.meta.title) { //åˆ¤æ–­è¯¥å¯¼èˆªæ˜¯å¦å·²å­˜åœ¨æ–°å¢çš„urlï¼Œä¸å­˜åœ¨æ‰æ’å…¥url let path= window.location.hash.split('#')[1]; letisHave=store.state.historyList.historyNave.every((item) =\u003e { if (item.href !==path) { return true; } }) if (isHave) { store.state.historyList.historyNave.push({ \"title\": to.meta.title, //tabçš„åç§° \"cachedName\": to.name, //ç¼“å­˜é¡µé¢çš„name \"href\": path //ç‚¹å‡»tabè½¬è·³çš„åœ°å€ }); } } store.state.historyList.cachedHistoryNames.push(to.name) //ç¼“å­˜é¡µé¢ store.state.historyList.cachedHistoryNames=Array.from(new Set(store.state.historyList.cachedHistoryNames)) //åˆ é™¤ç¼“å­˜é‡å¤æ•°æ®name }); }); //é¡¶éƒ¨å¯¼èˆªç»„ä»¶ methods: { //åˆ é™¤ç¼“å­˜ deleteHistory(item, index) { this.historyList.splice(index, 1); //åˆ é™¤å†å²å¯¼èˆª this.cachedHistoryNames.forEach((element, i) =\u003e { //åˆ é™¤å†å²å¯¼èˆªç¼“å­˜ if (element===item.cachedName) { this.cachedHistoryNames.splice(i, 1) } } } }, ","date":"2024-07-01","objectID":"/vue2%E9%80%9A%E8%BF%87keep-alive%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2tabs%E4%B8%9A%E5%8A%A1%E7%BC%93%E5%AD%98/:0:3","tags":null,"title":"Vue2é€šè¿‡keep Aliveè®¾ç½®é¡µé¢TABSä¸šåŠ¡ç¼“å­˜","uri":"/vue2%E9%80%9A%E8%BF%87keep-alive%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2tabs%E4%B8%9A%E5%8A%A1%E7%BC%93%E5%AD%98/"},{"categories":null,"content":"ä¸€ç›´ä»¥æ¥ç§»åŠ¨ç«¯çš„é¡¹ç›®éƒ½æœ‰ä¸€ç§ä¼˜åŒ–ä¸Šçš„éœ€æ±‚ï¼Œé‚£å°±æ˜¯å‰è¿›é¡µé¢æ‹¿æœ€æ–°çš„æ•°æ®ï¼Œåé€€é¡µé¢å³ç¼“å­˜é¡µé¢ã€‚ ","date":"2024-07-01","objectID":"/vue2%E9%80%9A%E8%BF%87keep-alive%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2%E7%BC%93%E5%AD%98/:0:1","tags":null,"title":"Vue2é€šè¿‡keep Aliveè®¾ç½®é¡µé¢ç¼“å­˜","uri":"/vue2%E9%80%9A%E8%BF%87keep-alive%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2%E7%BC%93%E5%AD%98/"},{"categories":null,"content":"æ€»ä½“æ€è·¯ 1.åœ¨ vue æ–¹æ³•é‡Œ keep-alive çš„ include è®¾ç½®éœ€è¦ç¼“å­˜é¡µé¢çš„ name å¯ä»¥åˆ¤æ–­é¡µé¢æ˜¯å¦å·²ç¼“å­˜ï¼ˆinclude å¯å­—ç¬¦ä¸²å¯æ•°ç»„ï¼‰è¿™é‡Œé€šè¿‡æ•°ç»„æ–¹å¼è¿›è¡Œ 2.è®¾ç½®æ–‡ä»¶é‡Œçš„ name å’Œè·¯ç”±é‡Œçš„ nameï¼ˆä¿æŒä¸€è‡´ï¼‰ 3.router.js è·¯ç”±æ–‡ä»¶ä¸­è®¾ç½®ä¸¤ä¸ªå€¼ keepAlive å’Œ deleteCachedNameã€‚éœ€è¦ç¼“å­˜çš„è®¾ç½® keepAlive:trueï¼Œä¸éœ€è¦çš„ç›´æ¥è®¾ç½® deleteCachedName:éœ€è¦åˆ é™¤çš„ç¼“å­˜ name 4.æ–°å¢/åˆ é™¤ include æ•°ç»„ç¼“å­˜ä¸­çš„ name 5.è¿”å›ä¸Šä¸€é¡µè‡ªåŠ¨æ»‘åŠ¨åˆ°ä¸Šæ¬¡æ»šåŠ¨æ¡çš„ä½ç½® //App.vue \u003ckeep-alive :include=\"$store.state.cachedRouteNames\"\u003e \u003crouter-view :key=\"$route.query.id\"\u003e\u003c/router-view\u003e \u003c/keep-alive\u003e //router.js { path: '/home', name: 'home', meta: { title: 'æˆ‘éœ€è¦ç¼“å­˜é¡µé¢', keepAlive: true, //é¡µé¢éœ€è¦ç¼“å­˜ }, component: () =\u003eimport('@/views/home/index.vue') }, { path: '/goHome', name: 'goHome', meta: { title: 'åˆ é™¤ç¼“å­˜', deleteCachedName: 'home', //åˆ é™¤homeé¡µé¢éœ€è¦ç¼“å­˜ }, component: () =\u003eimport('@/views/goHome/goHome.vue') } //state.js const state = { cachedRouteNames: [], //ç¼“å­˜é¡µé¢è·¯ç”± cachedRouteScroll:null //ç¼“å­˜é¡µé¢æ»šåŠ¨æ¡ä½ç½® }; export default state //mutations.js const mutations = { /\\* - è®¾ç½®ç¼“å­˜ - æ·»åŠ ç¼“å­˜ï¼Œéœ€è¦é…ç½®åœ¨ç»„ä»¶é‡Œæ·»åŠ  name ä»¥åŠè·¯ç”±é‡Œå†™ä¸Šå¯¹åº”ç»„ä»¶çš„ name (name æ ¼å¼ xx-xx (çˆ¶ç»„ä»¶ name-å½“å‰ name) ç”¨\"-\"åŒºåˆ†å¼€æ¥) - åˆ é™¤ç¼“å­˜ï¼Œéœ€è¦é…ç½®ï¼ˆä»¥ç¼“ä»ç»„ä»¶ï¼‰ä¸Šä¸€ä¸ªç»„ä»¶é‡Œæ·»åŠ \"deleteCachedName:åˆ é™¤çš„ç»„ä»¶ name\" (ä¾‹å¦‚ A â€”â€”\u003e B åˆ é™¤ä»¥ç¼“å­˜çš„ç»„ä»¶ Bï¼Œå³åœ¨ A çš„è·¯ç”± meta é‡Œæ·»åŠ  deleteCachedName:B) _/ SetcachedRouteNames(state,{ action, route }) { const methods= { 'add': () =\u003e { //æ·»åŠ ç¼“å­˜ state.cachedRouteNames.push(route) state.cachedRouteNames=Array.from(new Set(state.cachedRouteNames)) //åˆ é™¤ç¼“å­˜é‡å¤æ•°æ® name }, 'delete': () =\u003e { //åˆ é™¤ç¼“å­˜ state.cachedRouteNames.splice(state.cachedRouteNames.findIndex((e) =\u003e { return e === route}),1) } } methods[action]() }, /_ *è®¾ç½®ç¼“å­˜æ»šåŠ¨æ¡ set è®°å½•æ»šåŠ¨æ¡ä½ç½®ï¼Œto æ»šåŠ¨åˆ°è®°å½•ä½ç½®ã€‚set å’Œ to è°ƒç”¨æ–¹æ³•æ˜¯ä¸€æ ·çš„ *to ä¸€èˆ¬ç”¨åœ¨é¡µé¢åˆå§‹åŒ– DOM å·²åŠ è½½å®Œè¿›è¡Œè°ƒç”¨ this.$store.commit('SetcachedRouteScroll', { action: 'to', name: '' }) *setä¸€èˆ¬ç”¨åœ¨é¡µé¢ç¦»å¼€è¿›è¡Œè°ƒç”¨ this.$store.commit('SetcachedRouteScroll', { action: 'set', name: '' }) this.$store.commit('SetcachedRouteScroll', { action: 'to', name: 'æ»šåŠ¨æ¡æ¨¡å—çš„nameæˆ–idï¼Œéœ€è¦åŠ ä¸Š.æˆ–#' }) this.$store.commit('SetcachedRouteScroll', { action: 'to', name: '.class' }) this.$store.commit('SetcachedRouteScroll', { action: 'to', name: '#id' }) \\*/ SetcachedRouteScroll(state,{ action, name }) { const methods= { 'set': () =\u003e { //è®°å½•æ»šåŠ¨æ¡ä½ç½® state.cachedRouteScroll= document.querySelector(name).scrollTop; // console.log(state.cachedRouteScroll) }, 'to': () =\u003e { //æ»šåŠ¨åˆ°è®°å½•ä½ç½® document.querySelector(name).scrollTop = state.cachedRouteScroll; // console.log(state.cachedRouteScroll) } } methods[action]() }, }; export default mutations //main.js /\\* - é¡µé¢è½¬è·³ä¹‹å - æ·»åŠ ç¼“å­˜ï¼Œéœ€è¦é…ç½®åœ¨ç»„ä»¶é‡Œæ·»åŠ  name ä»¥åŠè·¯ç”±é‡Œå†™ä¸Šå¯¹åº”ç»„ä»¶çš„ name (name æ ¼å¼ xx-xx (çˆ¶ç»„ä»¶ name-å½“å‰ name) ç”¨\"-\"åŒºåˆ†å¼€æ¥) - åˆ é™¤ç¼“å­˜ï¼Œéœ€è¦é…ç½®ï¼ˆä»¥ç¼“ä»ç»„ä»¶ï¼‰ä¸Šä¸€ä¸ªç»„ä»¶é‡Œæ·»åŠ \"deleteCachedName:åˆ é™¤çš„ç»„ä»¶ name\" (ä¾‹å¦‚ A â€”â€”\u003e B åˆ é™¤ä»¥ç¼“å­˜çš„ç»„ä»¶ Bï¼Œå³åœ¨ A çš„è·¯ç”± meta é‡Œæ·»åŠ  deleteCachedName:B) \\*/ router.afterEach((to, from, next) =\u003e { if (to.meta.keepAlive) { //é¡µé¢ç¼“å­˜ store.commit('SetcachedRouteNames', { action: 'add', route: to.name }) } if (to.meta.deleteCachedName) { //åˆ é™¤ç¼“å­˜ store.commit('SetcachedRouteNames', { action: 'delete', route: to.meta.deleteCachedName }) } }); //ç»„ä»¶ activated() { //æ»‘åŠ¨åˆ°è®°å½•æ»šåŠ¨æ¡çš„ä½ç½® this.$store.commit('SetcachedRouteScroll', { action: 'to', name: '#pullScrollCell' }) }, methods: { //è½¬è·³é¡µé¢ï¼Œè®°å½•å½“å‰æ»šåŠ¨æ¡ go(item) { this.$store.commit('SetcachedRouteScroll', { action: 'set', name: '#pullScrollCell' }) this.$router.push({ path: '/details', query: { id:xxx, } }) }, } ","date":"2024-07-01","objectID":"/vue2%E9%80%9A%E8%BF%87keep-alive%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2%E7%BC%93%E5%AD%98/:0:2","tags":null,"title":"Vue2é€šè¿‡keep Aliveè®¾ç½®é¡µé¢ç¼“å­˜","uri":"/vue2%E9%80%9A%E8%BF%87keep-alive%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2%E7%BC%93%E5%AD%98/"},{"categories":null,"content":"1.ä¸‹è½½nvm githubæœ€æ–°ç‰ˆæœ¬ä¸‹è½½: https://github.com/coreybutler/nvm-windows/releases 2.nvmçš„ä½¿ç”¨æ–¹æ³• 1.å®‰è£…æœ€æ–°ç‰ˆnodeï¼š nvm install latest 2.å®‰è£…æŒ‡å®šç‰ˆæœ¬nodeï¼š nvm install 14.15.0 3.æŸ¥çœ‹å·²å®‰è£…çš„nodeç‰ˆæœ¬: nvm ls / nvm list 4.ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬nodeï¼š nvm use 14.15.0 ä¸æŒ‡å®šå…·ä½“ç‰ˆæœ¬å³ä¸ºç°æœ‰çš„æœ€æ–°ç‰ˆæœ¬nvm use 14 6.å¸è½½æŒ‡å®šç‰ˆæœ¬nodeï¼š nvm uninstall 14.15.0 ","date":"2024-07-01","objectID":"/window%E4%B8%8A%E4%BD%BF%E7%94%A8nvm%E8%BF%9B%E8%A1%8C%E7%AE%A1%E7%90%86node%E7%89%88%E6%9C%AC/:0:0","tags":null,"title":"Windowä¸Šä½¿ç”¨NVMè¿›è¡Œç®¡ç†nodeç‰ˆæœ¬","uri":"/window%E4%B8%8A%E4%BD%BF%E7%94%A8nvm%E8%BF%9B%E8%A1%8C%E7%AE%A1%E7%90%86node%E7%89%88%E6%9C%AC/"},{"categories":null,"content":"ä»¥ä¸‹æ˜¯åˆ›å»ºç¬¬ä¸€ç¯‡æ–‡ç« çš„æ–¹æ³•: hugo new posts/first_post.md æ³¨æ„ é»˜è®¤æƒ…å†µä¸‹, æ‰€æœ‰æ–‡ç« å’Œé¡µé¢å‡ä½œä¸ºè‰ç¨¿åˆ›å»º. å¦‚æœæƒ³è¦æ¸²æŸ“è¿™äº›é¡µé¢, è¯·ä»å…ƒæ•°æ®ä¸­åˆ é™¤å±æ€§ draft: true, è®¾ç½®å±æ€§ draft: false åœ¨æœ¬åœ°å¯åŠ¨ç½‘ç«™ hugo serve è¯·è®¿é—® http://localhost:1313 é¢„è§ˆå°šæœªæ­£å¼å‘å¸ƒçš„å†…å®¹ hugo serve -D Hugo çš„è¿è¡Œç¯å¢ƒ è¿™ä¸ªå‘½ä»¤ä¼šå¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œç”Ÿæˆå¹¶å±•ç¤ºåŒ…å«è‰ç¨¿æ–‡ç« çš„æ•´ä¸ªç½‘ç«™ã€‚è¿™åœ¨å¼€å‘é˜¶æ®µéå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸ä½ é¢„è§ˆå°šæœªæ­£å¼å‘å¸ƒçš„å†…å®¹ã€‚ hugo serve çš„é»˜è®¤è¿è¡Œç¯å¢ƒæ˜¯ development, è€Œ hugo çš„é»˜è®¤è¿è¡Œç¯å¢ƒæ˜¯ production. ç”±äºæœ¬åœ° development ç¯å¢ƒçš„é™åˆ¶, è¯„è®ºç³»ç»Ÿ, CDN å’Œ fingerprint ä¸ä¼šåœ¨ development ç¯å¢ƒä¸‹å¯ç”¨. ä½ å¯ä»¥ä½¿ç”¨ hugo serve -e production å‘½ä»¤æ¥å¼€å¯è¿™äº›ç‰¹æ€§. ","date":"2024-07-01","objectID":"/hugo%E4%BD%BF%E7%94%A8/:0:0","tags":null,"title":"Hugoä½¿ç”¨","uri":"/hugo%E4%BD%BF%E7%94%A8/"},{"categories":null,"content":"æ„å»ºç½‘ç«™ hugo ä¼šç”Ÿæˆä¸€ä¸ª public ç›®å½•, å…¶ä¸­åŒ…å«ä½ ç½‘ç«™çš„æ‰€æœ‰é™æ€å†…å®¹å’Œèµ„æº. ç°åœ¨å¯ä»¥å°†å…¶éƒ¨ç½²åœ¨ä»»ä½• Web æœåŠ¡å™¨ä¸Š. ","date":"2024-07-01","objectID":"/hugo%E4%BD%BF%E7%94%A8/:0:1","tags":null,"title":"Hugoä½¿ç”¨","uri":"/hugo%E4%BD%BF%E7%94%A8/"},{"categories":null,"content":"æµ‹è¯•æ–‡ç«  è¯¥åšå®¢æ¨¡æ¿æ˜¯hugoä¸»é¢˜æ˜¯LoveIt æ­å»ºåšå®¢çš„åŸå› æ˜¯å¹³æ—¶å†™ä¸€äº›å·¥ä½œä¸Šçš„ç¬”è®°ï¼Œæˆ–è€…è‡ªå·±å­¦ä¹ çš„æŠ€æœ¯è®°å½•æ–¹ä¾¿é˜…è¯»å›é¡¾ï¼ å…¶å®ä¹‹å‰ä¹Ÿæœ‰ç”¨è¿‡vue+Expressæ­å»ºå‰åç«¯çš„æ¡†æ¶ï¼Œä¸è¿‡é˜¿é‡Œäº‘ä¸€å¹´æ¯”ä¸€å¹´è´µï¼Œå·²ç»ä¸æ‰“ç®—ç»­è´¹ï¼Œæ”¹ç”¨hugoè¿›è¡Œæ­å»º ğŸ˜‚ ","date":"2024-03-01","objectID":"/first_post/:0:0","tags":null,"title":"First_post","uri":"/first_post/"},{"categories":null,"content":"å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯lyh è¯¥åšå®¢æ¨¡æ¿æ˜¯hugoä¸»é¢˜æ˜¯LoveIt æ­å»ºåšå®¢çš„åŸå› æ˜¯å¹³æ—¶å†™ä¸€äº›å·¥ä½œä¸Šçš„ç¬”è®°ï¼Œæˆ–è€…è‡ªå·±å­¦ä¹ çš„æŠ€æœ¯è®°å½•æ–¹ä¾¿é˜…è¯»å›é¡¾ï¼ å…¶å®ä¹‹å‰ä¹Ÿæœ‰ç”¨è¿‡vue+Expressæ­å»ºå‰åç«¯çš„æ¡†æ¶ï¼Œä¸è¿‡é˜¿é‡Œäº‘ä¸€å¹´æ¯”ä¸€å¹´è´µï¼Œå·²ç»ä¸æ‰“ç®—ç»­è´¹ï¼Œæ”¹ç”¨hugoè¿›è¡Œæ­å»º ğŸ˜‚ ","date":"2024-03-01","objectID":"/about/about/:0:0","tags":null,"title":"About","uri":"/about/about/"}]